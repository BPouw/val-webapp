<div class="form-container" [formGroup]="newPlayer">
  <h3>Create new player</h3>
  <mat-form-field>
    <mat-label>Gamertag</mat-label>
    <input matInput formControlName="gamertag" />
    <mat-error *ngIf="gamertag?.invalid && gamertag?.touched">A player must have a gamertag</mat-error>
  </mat-form-field>
  <mat-select-country formControlName="country"></mat-select-country>
  <mat-error *ngIf="country?.invalid && country?.touched">A player must have a country</mat-error>
  <mat-form-field>
    <mat-label>Full name</mat-label>
    <input matInput formControlName="name" />
    <mat-error *ngIf="name?.invalid && name?.touched">A player must have a name</mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Earnings</mat-label>
    <input matInput type="number" formControlName="earnings" />
    <mat-error *ngIf="earnings?.invalid && earnings?.touched">A player must have earnings</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Agents</mat-label>
    <mat-select
      multiple
      formControlName="agents"
      name="agents"
      [(ngModel)]="selectedAgents"
    >
      <mat-option *ngFor="let agent of agents" [value]="agent.toString()">{{
        agent
      }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Team</mat-label>
    <mat-select formControlName="team">
      <mat-option *ngFor="let team of teams" [value]="team._id">{{
        team.teamname
      }}</mat-option>
    </mat-select>
    <mat-error *ngIf="team?.invalid && team?.touched">A player must have a team</mat-error>
  </mat-form-field>
  <a mat-raised-button color="accent" [disabled]="newPlayer.invalid" [mat-dialog-close] (click)="submit()"
    >Create</a
  >
</div>
